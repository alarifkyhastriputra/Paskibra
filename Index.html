<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>PASKIBRA SMAN 1 Bengkayang</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f6f8;
    padding: 20px;
}
.container {
    max-width: 600px;
    background: white;
    padding: 20px;
    margin: auto;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
h1, h2 {
    text-align: center;
}
label {
    font-weight: bold;
}
input, select, button {
    width: 100%;
    padding: 8px;
    margin: 6px 0 12px 0;
}
button {
    background: #1e88e5;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}
button:hover {
    background: #1565c0;
}
.result {
    background: #eef3f7;
    padding: 15px;
    border-radius: 8px;
}
.hidden {
    display: none;
}
</style>
</head>
<body>

<div class="container">
    <h1>PASKIBRA<br>SMA NEGERI 1 BENGKAYANG</h1>
    <h2>Perhitungan Nilai Ekstrakurikuler</h2>

    <label>Semester</label>
    <select id="semester" onchange="toggleSemester()">
        <option value="1">Semester 1 (X, XI, XII)</option>
        <option value="2">Semester 2 (X & XI)</option>
    </select>

    <label>Nama Siswa</label>
    <input type="text" id="nama" placeholder="Contoh: Samuel">

    <label>Jumlah Hadir</label>
    <input type="number" id="hadir" placeholder="Contoh: 12">

    <label>Total Pertemuan</label>
    <input type="number" id="total" placeholder="Contoh: 12">

    <div id="pembayatanBox" class="hidden">
        <label>Nilai Pembayatan</label>
        <input type="number" id="pembayatan" placeholder="0 - 100">
    </div>

    <label>Nilai Sikap</label>
    <input type="number" id="sikap" placeholder="0 - 100">

    <button onclick="hitung()">Hitung Nilai</button>

    <div class="result" id="hasil"></div>
</div>

<script>
function toggleSemester() {
    const semester = document.getElementById("semester").value;
    const box = document.getElementById("pembayatanBox");
    box.classList.toggle("hidden", semester === "1");
}

function pembulatan(nilai) {
    const desimal = nilai - Math.floor(nilai);
    return desimal >= 0.5 ? Math.ceil(nilai) : Math.floor(nilai);
}

function hitung() {
    const semester = document.getElementById("semester").value;
    const nama = document.getElementById("nama").value || "Siswa";
    const hadir = parseFloat(document.getElementById("hadir").value);
    const total = parseFloat(document.getElementById("total").value);
    const sikap = parseFloat(document.getElementById("sikap").value);
    const pembayatan = parseFloat(document.getElementById("pembayatan").value || 0);

    let nilaiAbsen = (hadir / total) * 100;
    let nilaiAkhir = 0;
    let detail = "";

    if (semester === "1") {
        nilaiAkhir = (nilaiAbsen * 0.6) + (sikap * 0.4);
        detail = `
        60% Absen: ${(nilaiAbsen * 0.6).toFixed(2)}<br>
        40% Sikap: ${(sikap * 0.4).toFixed(2)}
        `;
    } else {
        nilaiAkhir =
            (nilaiAbsen * 0.5) +
            (pembayatan * 0.35) +
            (sikap * 0.15);

        detail = `
        50% Absen: ${(nilaiAbsen * 0.5).toFixed(2)}<br>
        35% Pembayatan: ${(pembayatan * 0.35).toFixed(2)}<br>
        15% Sikap: ${(sikap * 0.15).toFixed(2)}
        `;
    }

    const nilaiBulat = pembulatan(nilaiAkhir);

    document.getElementById("hasil").innerHTML = `
        <b>Nama:</b> ${nama}<br><br>
        ${detail}<br><br>
        <b>Nilai Akhir:</b> ${nilaiAkhir.toFixed(2)}<br>
        <b>Nilai Rekap:</b> <span style="font-size:20px;">${nilaiBulat}</span>
    `;
}
</script>

</body>
</html>
